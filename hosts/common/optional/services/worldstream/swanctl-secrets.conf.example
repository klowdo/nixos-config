# swanctl secrets configuration for Worldstream VPN
# This file should be encrypted with SOPS and stored as: strong-swan.swanctl-secrets
#
# The actual encrypted file should be managed via:
# sops secrets/strong-swan.swanctl-secrets.yaml
#
# Then reference it in the NixOS configuration via sops.secrets

# Conversion from ipsec.secrets format:
# ipsec.secrets format:
#   @10 185.182.195.244 : PSK "password"
#   felix.svensson@nl.worldstream.com : XAUTH "SHARED_PASSWORD"
#
# swanctl format (below):

secrets {
  # IKE Pre-Shared Key for the first authentication round
  # Converted from: @10 185.182.195.244 : PSK "password"
  ike-worldstream {
    # The PSK secret - replace with actual PSK from strong-swan.ipsec
    secret = "YOUR_PSK_SECRET_HERE"

    # Local identity (matches connection's local.1.id)
    id-1 = "@10"

    # Remote gateway identity (IP address of VPN server)
    id-2 = "185.182.195.244"
  }

  # XAuth credentials for the second authentication round
  # Converted from: felix.svensson@nl.worldstream.com : XAUTH "SHARED_PASSWORD"
  # Note: XAuth secrets use the 'eap' prefix in swanctl
  eap-worldstream {
    # XAuth identity - must match local.2.xauth_id in the connection
    # OR can match local.2.id if that's what's used for lookup
    id = "felix.svensson@nl.worldstream.com"

    # XAuth password - replace with actual password from strong-swan.ipsec
    secret = "YOUR_XAUTH_PASSWORD_HERE"
  }
}
